{% extends "layout/_base_cinema.html" %}
{% load bootstrap4 %}
{% load static %}

{% block title %} баннеры {% endblock title%}

{% block content %}

<head>
    <script type="text/javascript" src="{% static 'cinema/js/jQuery_3.6.0.js' %}"></script>
    <script type="text/javascript" src="{% static 'cinema/js/banner_forms.js' %}"></script>

    <link rel="stylesheet" href="{% static 'cinema/css/all.min.css' %}">
    <link rel="stylesheet" href="{% static 'cinema/css/OverlayScrollbars.min.css' %}">
    <link rel="stylesheet" href="{% static 'cinema/css/adminlte.min.css' %}">
    <link rel="stylesheet" href="{% static 'cinema/css/style.css'%}">

</head>

<h2 class="text-center">На главной верх</h2>
<div id="main_top_banner">
    <form method="post" enctype="multipart/form-data" action="." id="banner_form">
        {% csrf_token %}
        <div class="mx-1 my-1" id="banner_top_container">
            <div class="row">
                <div class="col">
                    <p>{{ highest_banner_form.errors }}</p>
                    <p>{{ highest_banner_form.non_field_errors }}</p>

                    <label class="switch float-right">
                        {{ highest_banner_form.on_of_status }}
                        <span class="slider round"></span>
                    </label>

                    {% comment %} <p>{{ highest_banner_form.timescrolling }}</p> {% endcomment %}
                <div>
            </div>
        </div>
    </div>

        {{ add_banner_cell_formset.management_form }}
        <div class="row" id="form_set">
            {% for form in add_banner_cell_formset %}

            <div class="col-2 mt-3 mx-4">
                {% for hidden in form.hidden_fields %}            
                    {{ hidden }}
                {% endfor %}
                <div class="single_form_container mt-3">
                {{ form.image }}
                
                <div class="row"><div class="col-2">{{ form.url.label_tag }}</div><div class="col-2"> {{ form.url }}</div></div>
                <div class="row"><div class="col-2">{{ form.text.label_tag }}</div><div class="col-2"> {{ form.text }}</div></div>
                {% comment %} <p>{{form.text.label_tag}}{{ form.text }}</p> {% endcomment %}
                {{ form.DELETE }}
                <img src={% static "cinema/images/del_image.png" %} id="delete_button" class="del_icon">
                <input type="button" value="добавить" id="add_button" class="btn btn-outline-dark btn-sm btn-block ml-3">
                </div>
            </div>
            {% endfor %}
            <div class="col-2">
                <input type="button" value="Добавить фото" id="add_more">
            </div>
            <div id="empty_form_container" style="display:none">
                <div class="col-2 single_form_container mt-4 mx-3" id="empty_form">
                    <div>
                        {{ add_banner_cell_formset.empty_form.image }}
                        <div class="row"><div class="col-2">{{ add_banner_cell_formset.empty_form.url.label_tag }}</div><div class="col-2">{{ add_banner_cell_formset.empty_form.url }}</div></div>
                        <div class="row"><div class="col-2">{{ add_banner_cell_formset.empty_form.text.label_tag }}</div><div class="col-2">{{ add_banner_cell_formset.empty_form.text }}</div></div>
                        {{ add_banner_cell_formset.empty_form.DELETE }}
                        <img src={% static "cinema/images/del_image.png" %} id="delete_button" class="del_icon">
                        <input type="button" value="добавить" id="add_button" class="btn btn-outline-dark btn-sm btn-block">
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-3 text-center">
                <div class="my-5">{{ highest_banner_form.timescrolling }}</div>
            </div>
            {% comment %} <div class="col-6 text-center"> {% endcomment %}
            <div class="col-6 offset-3">
                <input type="submit" value="сохранить" id="save_button" class="mt-5 mb-5">
                {% comment %} <input type="button" value="сохранить" id="save_button_2" class="mt-5"> {% endcomment %}
            </div>
        </div>
    </form>
</div>

{% endblock content %}
