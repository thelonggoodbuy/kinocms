{% extends "layout/_base_cinema.html" %}
{% load bootstrap4 %}
{% load static %}

{% block title %} Внести зміни в акцію {% endblock title%}

{% block content %}

<head>
    <script type="text/javascript" src="{% static 'pages/js/jQuery_3.6.0.js' %}"></script>
    <script type="text/javascript" src="{% static 'pages/js/pages_general.js' %}"></script>

    <script type="text/javascript" src="{% static 'pages/js/moment.min.js' %}"></script>
    <script type="application/json" src="{% static 'pages/js/moment.min.js.map' %}"></script>
    <script type="text/javascript" src="{% static 'pages/js/tempusdominus-bootstrap-4.min.js' %}"></script>
    
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.css">
    
    <link rel="stylesheet" href="{% static 'pages/css/tempusdominus-bootstrap-4.min.css' %}"/>
    <link rel="stylesheet" href="{% static 'pages/css/all.min.css' %}">
    <link rel="stylesheet" href="{% static 'pages/css/OverlayScrollbars.min.css' %}">
    <link rel="stylesheet" href="{% static 'pages/css/adminlte.min.css' %}">
    <link rel="stylesheet" href="{% static 'pages/css/icheck-bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'pages/css/style.css'%}">

    <link rel="icon" href="{% static 'pages/images/cinema_logo_2.png' %}">


</head>
<div id="main_form_container">
    <form method="post" novalidate enctype="multipart/form-data" action=".">
        {% csrf_token %}

        <div class="row">
            <div class="col-10 mt-3 mb-3">
                {% for field in one_promo_form %}
                    {% for error in field.errors %} 
                        <p class="my-1 text-danger">{{ error }}</p>
                    {% endfor %}
                {% endfor %}
                {% for error in one_promo_form.non_field_errors %}
                    <p class="my-1 text-danger">{{ error }}</p>
                {% endfor %}
            </div>
        </div>
        <div class="row">
            <div class="col-10 mt-3 mb-3">
                {% for field in main_image_form %}
                    {% for error in field.errors %} 
                        <p class="my-1 text-danger">{{ error }}</p>
                    {% endfor %}
                {% endfor %}
                {% for error in main_image_form.non_field_errors %}
                    <p class="my-1 text-danger">{{ error }}</p>
                {% endfor %}
            </div>
        </div>
        <div class="row">
            <div class="col-10 mt-3 mb-3">
                {% for field in one_promo_seo_block %}
                    {% for error in field.errors %} 
                        <p class="my-1 text-danger">{{ error }}</p>
                    {% endfor %}
                {% endfor %}
                {% for error in one_promo_seo_block.non_field_errors %}
                    <p class="my-1 text-danger">{{ error }}</p>
                {% endfor %}
            </div>
            <div class="col-10">
                <label class="switch float-right">
                    {{ one_promo_form.is_active }}
                    <span class="slider round"></span>
                </label>
            </div>
        </div>

        <div class="row mt-3 mb-4">
            <div class="col-2">
                {% comment %} {{ one_promo_form.title_news_or_promo.label_tag }} {% endcomment %}
                <p><strong>Назва акції</strong></p>
            </div>
            <div class="col-3">
                {{ one_promo_form.title_news_or_promo }}
            </div>

            <div class="col-2">
                {% comment %} {{ one_promo_form.date_news_or_promoptions.label_tag }} {% endcomment %}
                <p class="text-right"><strong>Дата публікації</strong></p>
            </div>
            <div class="col-2 d-inline">
                <div class="form-group">
                    <div class="input-group date" id="datetimepicker4" data-target-input="nearest">
                        {{ one_promo_form.date_news_or_promoptions }}
                        <div class="input-group-append" data-target="#datetimepicker4" data-toggle="datetimepicker">
                            <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
 
        <div class="row mt-3 mb-3">
            <div class="col-2">
                {{ one_promo_form.description_news_or_promo.label_tag }}
            </div>
            <div class="col-5">
                {{ one_promo_form.description_news_or_promo}}
            </div>
        </div>

        <div class="row" id="main_image_container">
            <div class="col-2 justify-content-center align-self-center">
                {{ main_image_form.image.label_tag }}
            </div>
            <div class="col-3 justify-content-center align-self-center">
                {{ main_image_form.image }}
            </div>
            <div class="col-1 justify-content-center align-self-center text-center">
                <input type="button" value="добавить" id="add_button" class="mt-5 mb-5 btn btn-outline-dark btn-sm btn-block">
            </div>
            <div class="col-1 justify-content-center align-self-center text-center">
                <input type="button" value="удалить" id="del_button" class="mt-5 mb-5 btn btn-outline-dark btn-sm btn-block">
                {{ main_image_form.DELETE_IMAGE }}
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-2 justify-content-center align-self-center">
                <p><strong>Галерея картинок:</strong></p>
            </div>
            <div class="col-10">
                <div id="galery_container">
                    {{ one_promo_image_formset.management_form }}
                    <div class="row">
                        {% for photo_form in one_promo_image_formset %}
                            <div class="col-2">
                                {% for hidden in photo_form.hidden_fields %}
                                    {{ hidden }}
                                {% endfor %}
                                {{ photo_form.image }}
                                {{ photo_form.DELETE }}
                                <input type="button" value="добавить" id="add_button" class="btn btn-outline-dark btn-sm btn-block">
                                <input type="button" value="удалить" id="del_button" class="btn btn-outline-dark btn-sm btn-block">
                                {% for error in photo_form.image.errors %} 
                                    <p class="my-1 text-danger">{{ error }}</p>
                                {% endfor %}
                            </div>
                        {% endfor %}
                            <div class="col-2 my-auto empty_button_container">
                                <input type="button" value="Добавить фото" id="add_more" class="btn btn-outline-dark btn-sm btn-block">
                            </div>
                            <div id="empty_form_container" style="display:none">
                                <div class="col-2">
                                    {{ one_promo_image_formset.empty_form.image }}
                                    {{ one_promo_image_formset.empty_form.DELETE }}
                                    <input type="button" value="добавить" id="add_button" class="btn btn-outline-dark btn-sm btn-block">
                                    <input type="button" value="удалить" id="del_button" class="btn btn-outline-dark btn-sm btn-block">
                                </div>
                            </div>
                            <div>                
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-3 mb-3">
            <div class="col-2 justify-content-center align-self-center">
                {{ one_promo_form.url_to_video.label_tag }}
            </div>
            <div class="col-3">
                {{ one_promo_form.url_to_video }}
            </div>
        </div>

        <div class="row mt-3 mb-3">
            <div class="col-2 justify-content-center align-self-center">
                {{ one_promo_seo_block.url_seo.label_tag }}
            </div>
            <div class="col-3">
                {{ one_promo_seo_block.url_seo }}
                {% for error in one_promo_seo_block.url_seo.errors %} 
                    <p class="my-1 text-danger">{{ error }}</p>
                {% endfor %}
            </div>
        </div>
        <div class="row mt-3 mb-3">
            <div class="col-2 justify-content-center align-self-center">
                {{ one_promo_seo_block.title_seo.label_tag }}
            </div>
            <div class="col-3">
                {{ one_promo_seo_block.title_seo }}
                {% for error in one_promo_seo_block.title_seo.errors %} 
                    <p class="my-1 text-danger">{{ error }}</p>
                {% endfor %}
            </div>
        </div>
        <div class="row mt-3 mb-3">
            <div class="col-2">
                {{ one_promo_seo_block.keyword_seo.label_tag }}
            </div>
            <div class="col-5">
                {{ one_promo_seo_block.keyword_seo }}
            </div>
        </div>
        <div class="row mt-3 mb-3">
            <div class="col-2">
                {{ one_promo_seo_block.description_seo.label_tag }}
            </div>
            <div class="col-5">
                {{ one_promo_seo_block.description_seo }}
            </div>
        </div>

        <p><input type="submit" class="mt-5 mb-5" value="внести изменения"></p>

    </form>
</div>


{% endblock content %}